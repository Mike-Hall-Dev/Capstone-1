{% extends 'base.html' %}

{% block title %} Now Playing {% endblock%}

{% block content%}
<div class="container d-flex justify-content-center">
    <a href="/"><button class="btn btn-primary">Popular</button></a>
    <a href="/top_rated"><button class="btn btn-primary">Top Rated</button></a>
</div>

<div id="movies-container" class="container">
    <div class="row text-center my-5">
        {% for movie in upcoming_movies %}
        <div class="col-lg-3 col-md-6 col-12 mt-3">
            <a href="/movie/{{movie.id}}">
                <div class="container">
                    <img class="rounded" src="https://image.tmdb.org/t/p/w185{{movie.poster_path}}" alt="">
                    <span class="list-movie-title">{{movie.title}}</span>
            </a>
        </div>
    </div>
    {% endfor %}
</div>


<nav aria-label="Page navigation example">
    <ul class="pagination">
        {% if page - 1 == 0 %}
        <li class="page-item disabled">
            {% else %}
        <li class="page-item">
            {% endif %}
            <a class="page-link" href="/upcoming/{{page - 1}}" aria-label="Previous">
                <span aria-hidden="true">&laquo;</span>
            </a>
        </li>
        {% for i in range(page,page + 3) %}
        {% if i == page %}
        <li class="page-item active"><a class="page-link" href="/upcoming/{{i}}">{{i}}</a></li>
        {% else %}
        <li class="page-item"><a class="page-link" href="/upcoming/{{i}}">{{i}}</a></li>
        {% endif %}
        {% endfor %}

        <li class="page-item">
            <a class="page-link" href="/upcoming/{{page + 1}}" aria-label="Next">
                <span aria-hidden="true">&raquo;</span>
            </a>
        </li>
    </ul>
</nav>
{% endblock%}